<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecommerce API</title>
    <link rel="stylesheet" href="../css/styles.css?v=1">
    <link rel="icon" type="image/x-icon" href="/img/favicon.ico">
<link rel="preconnect" href="https://fonts.gstatic.com">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<style>
    .grid-container {
      display: grid;
      grid-template-columns: 55% 50%;
      grid-gap: 10px;
      margin-top: 130px!important;
    }

    .grid-item {
      /* background-color: lightgray; */
      /* border: 1px solid black; */
      padding: 20px;
      text-align: center;
    }
    .right{
        padding-right: 100px;
    }
    /* #smallvid{
        display: none;
    } */
    @media only screen and (max-width: 1080px) {
        .grid-container {
          grid-template-columns: auto;
        }
        .grid-item, .video-container {
            margin: 0px 50px;
        }
        .right{
            padding-right: 0px;
        }
        .video-container iframe, .video-container img{
            width: calc(100% - 50px)!important;
        }
        #diagram{
            display:none;
        }
        #diagram-mobile{
            display:block!important;
        }
    }
    .video-container {
        position: relative;
        padding-bottom: 56.25%;
        padding-top: 30px;
        height: 0;
        overflow: hidden;
        margin: 0px 0px 0px 50px;
      }

      .video-container iframe, .video-container img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      @media (max-width: 767px) {
        .video-container {
          padding-bottom: 75%;
        }
      }
      ol {
            counter-reset: item;
            list-style-type: none;
        }
        ol li {
            margin: 10px 0;
            padding-left: 35px;
            position: relative;
            text-align: left;
        }
        ol li::before {
            content: counter(item);
            counter-increment: item;
            background: rgb(37, 150, 190);
            color: white;
            border-radius: 50%;
            display: inline-block;
            width: 25px;
            height: 25px;
            line-height: 25px;
            text-align: center;
            position: absolute;
            left: 0;
            top: 0;
        }
  </style>
<body>
    <div id="container" class="container">
        <header>

            <nav class="topnav" id="myTopnav">
                <img id="logo" class ="logo" src="../img/Logo.PNG" onclick="window.location.href='https://ndeluca.ca'">
                <div class='nav-container'>
                    <a class="scroll" href="https://ndeluca.ca"> <i class="fa fa-arrow-left"></i> &nbsp;Back</a>
                </div>
                <a href="javascript:void(0);" class="icon" onclick="toggleNav()">
                    <i class="fa fa-bars"></i>
                </a>
            </nav>
        </header>
        
        <div class="socialbar">
            <a target="_blank" class="github" href="https://github.com/NickDeLu">
                <i class="fa fa-square fa-stack-1x outside"></i>
                <i class="fa fa-github-square fa-stack-1x inside"></i>
            </a>
            <a target="_blank" class="linkedin" href="https://www.linkedin.com/in/nickdelu/">
                <i class="fa fa-square fa-stack-1x outside"></i>
                <i class="fa fa-linkedin-square fa-stack-1x inside"></i>
            </a>
 
            <a target="_blank" class="devpost" href="https://devpost.com/NickDeLu?ref_content=user-portfolio&ref_feature=portfolio&ref_medium=global-nav">
                <i class="fa fa-square fa-stack-1x outside" style="z-index: -1;"></i>
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 280.3 242" enable-background="new 0 0 280.3 242" xml:space="preserve">
                    <g id="XMLID_1_">
                        <path id="XMLID_6_" d="M133.7,76H118v90h14.7c30.9,0,45.1-18.1,45.1-45C177.8,90.9,164.9,76,133.7,76z"/>
                        <path id="XMLID_9_" d="M210.2,0H70.1L0,121l70.1,121h140.1l70.1-121L210.2,0z M132.7,195H89V47h45.8c42.1,0,73.3,20.1,73.3,74   C208.1,172.8,170.6,195,132.7,195z"/>
                    </g>
                    </svg>
            </a>
        </div>
        <section class="">
            <div class="grid-container">
                <div class="grid-item " style="padding: 0; margin:0;">
                    <div class="video-container">
                        <img src="/img/ecommerceapi.gif">
                    </div>
                    <div style="text-align: left; padding-left: 50px;"> 
                        <a href="https://github.com/NickDeLu/backend-template/tree/ecommerce-template" target="_new"><img src="https://img.shields.io/badge/Github-181717.svg?style=for-the-badge&amp;logo=github&amp;logoColor=white" alt="Github"></a>
                        <a href="https://spookyscarystore.shoptree.ca/" target="_new"><img src="https://img.shields.io/badge/Demo-00C7B7.svg?style=for-the-badge" alt="Demo"></a>                     
                        <a href="https://api.shoptree.ca/api/swagger" target="_new"><img src="https://img.shields.io/badge/OpenAPI%20Swagger-E70C1A.svg?style=for-the-badge&amp;logo=NestJS&amp;logoColor=white" alt="OpenAPI Swagger"></a>
                        <a href="https://api.shoptree.ca/" target="_new"><img src="https://img.shields.io/badge/Combodocs-00B8D9.svg?style=for-the-badge&amp;logo=Combodocs&amp;logoColor=white" alt="Combodocs"></a>
                    </div>
                    <br>
                    <div class="subtitle"  style=" width:calc(100% - 50px); text-align: left; padding-left: 50px;">Fully Documented and Authenticated REST API</div><br>
                    
                    <ol id="diagram" class="mini-text" style="padding-left: 45px; width: calc(100% - 116px); max-width: 1000px;">
                        <img src="/img/ecomapi-deployment-darkmode-new.drawio.png" style="width:100%; max-width: 900px;">
                        <li><strong>Coolify</strong>: Manages the deployment of Docker containers on the Hetzner server, ensuring that the latest versions of the applications are running.</li>
                        <li><strong>Hetzner Server</strong>: Hosts the entire infrastructure, including Docker Compose, Traefik load balancer, and MySQL database.</li>
                        <li><strong>Traefik Proxy Load Balancer</strong>: Distributes incoming traffic across multiple instances of the eCommerce API containers, ensuring high availability and reliability.</li>
                        <li><strong>Docker Compose</strong>: Orchestrates the deployment of multiple containers, including the eCommerce API and MySQL database. Utilizes Docker volumes for persistent storage and performs regular health checks to ensure container stability.</li>
                        <li><strong>GitHub Actions CICD Pipeline</strong>: Automates the build and deployment process. Upon pushing code to the repository, the pipeline builds the Docker images, pushes them to the GitHub Container Registry, and triggers Coolify to redeploy the updated containers.</li>
                        <li><strong>GitHub Container Registry</strong>: Stores the Docker images of the application, allowing for version control and easy deployment of the latest builds.</li>
                        <li><strong>Cloudflare</strong>: Provides a Content Delivery Network (CDN) for faster content delivery, DDoS protection, DNS resolution, and SSL certificates for secure communication.</li>
                        <li><strong>Cloudflare Pages</strong>: Hosts the frontend of the eCommerce application, ensuring that users can access the web pages quickly and securely.</li>
                    </ol>
                </div>
            
                <div class="grid-item right" style = "text-align: left;">
                    <h1 class="title" style = "text-align: left"><a target = "_blank" style="text-decoration: none; color: white; font-family: Open Sans, sans-serif;" href="http://ec2-3-80-94-70.compute-1.amazonaws.com/api/swagger#/">Ecommerce API</a> <i style="font-size: 30px;" class="fa fa-link"></i></h1> 
                    <div class="mini-text">A fully documented and authenticated backend REST nodejs and express api template that can be incorporated into any ecommerce website. It includes user accounts, email verification, routes for products, categories, payment methods, as well as addresses. </div>
                    <br>
                    <div class="subtitle"  style = "text-align: left">What tools it uses</div><br>
                    <img src="https://img.shields.io/badge/NestJS-C60000.svg?style=for-the-badge&amp;logo=NestJS&amp;logoColor=white" alt="NestJS"><img src="https://img.shields.io/badge/MySQL-4479A1.svg?style=for-the-badge&amp;logo=MySQL&amp;logoColor=white" alt="MySQL"><img src="https://img.shields.io/badge/Rest-008CBA.svg?style=for-the-badge&amp;logo=Rest&amp;logoColor=white" alt="Rest"><img src="https://img.shields.io/badge/TypeScript-007ACC.svg?style=for-the-badge&amp;logo=TypeScript&amp;logoColor=white" alt="TypeScript"><img src="https://img.shields.io/badge/NodeJS-339933.svg?style=for-the-badge&amp;logo=Node.js&amp;logoColor=white" alt="NodeJS"><img src="https://img.shields.io/badge/Express-191970.svg?style=for-the-badge&amp;logo=Express&amp;logoColor=white" alt="Express"><img src="https://img.shields.io/badge/OpenAPI%20Swagger-7B68EE.svg?style=for-the-badge&amp;logo=OpenAPI+Swagger&amp;logoColor=white" alt="OpenAPI Swagger"><img src="https://img.shields.io/badge/Combodocs-0077C9.svg?style=for-the-badge&amp;logo=Combodocs&amp;logoColor=white" alt="Combodocs">
                    <img src="https://img.shields.io/badge/Hetzner-00A3E0.svg?style=for-the-badge&amp;logo=Hetzner&amp;logoColor=white" alt="Hetzner">
                    <img src="https://img.shields.io/badge/Docker-2496ED.svg?style=for-the-badge&amp;logo=Docker&amp;logoColor=white" alt="Docker">
                    <img src="https://img.shields.io/badge/Coolify-5C4EE5.svg?style=for-the-badge&amp;logo=Coolify&amp;logoColor=white" alt="Coolify">
                    <img src="https://img.shields.io/badge/GitHub%20Actions-2088FF.svg?style=for-the-badge&amp;logo=GitHub+Actions&amp;logoColor=white" alt="GitHub Actions">
                    <img src="https://img.shields.io/badge/Cloudflare-F7C23D.svg?style=for-the-badge&amp;logo=Cloudflare&amp;logoColor=white" alt="Cloudflare">
                    <img src="https://img.shields.io/badge/Traefik-00A3E0.svg?style=for-the-badge&amp;logo=Traefik&amp;logoColor=white" alt="Traefik">
                    <img src="https://img.shields.io/badge/PassportJS-FB5A5A.svg?style=for-the-badge&amp;logo=PassportJS&amp;logoColor=white" alt="PassportJS">
                    <br>
                    <br>
                    <div class="subtitle"  style = "text-align: left">How I built it</div>
                    <div class="mini-text">
                        <!-- This Ecommerce API was build in Nestjs back end framework with typescript and express. It was deployed onto an AWS ec2 instance via an automated terraform script for infrastructure as code, and was configured to be accessible publicly with a proxy from apache's httpd, as well with AWS security groups to enable ingress inbound rules for http and https. There are authorized routes that only users with sufficient privileges can access, as well as unauthenticated routes for any user. This API implement's class-validator to validate requests in order to maintain type safety and provide informative error responses. A custom logging filter was also implemented to record all api requests, as well as catch and document any exceptions. These logs can be fetched with pagination on admin routes. Finally, each route is documented with OpenAPI standard (Swagger) and the entire application is also documented with combodocs for further inline comments about the apps internal structure. -->
                        This eCommerce API was developed using NestJS, TypeScript, and Express, with a focus on providing a secure and scalable backend for web applications. Key features and deployment details include:
    
                        <ul class="mini-text">
                            <li><strong>Backend Framework</strong>: Built with NestJS, leveraging TypeScript and Express for robust and scalable API development.</li>
                            <li><strong>Security</strong>: Includes both authorized routes for privileged users and unauthenticated routes accessible to all users. Implemented class-validator for request validation, ensuring type safety and informative error responses.</li>
                            <li><strong>Logging</strong>: Features a custom logging filter to record all API requests and capture exceptions. Logs are available with pagination on admin routes for detailed monitoring and analysis.</li>
                            <li><strong>Documentation</strong>: Each API route is documented using the OpenAPI (Swagger) standard, and the entire application is further detailed with Compodoc, providing comprehensive inline comments and structure explanations.</li>
                            <li><strong>Deployment</strong>: 
                                <ul>
                                    <li>Deployed on Hetzner servers using Docker Compose and managed through Coolify for automated deployments.</li>
                                    <li>Utilizes Cloudflare for CDN, SSL, DNS, and DDoS protection, with the frontend also hosted on Cloudflare Pages.</li>
                                    <li><strong>CI/CD</strong>: Integrated with GitHub Actions for automated build, containerization, and deployment. The CI/CD pipeline builds the application, creates a Docker container, and pushes it to GitHub Container Registry. Coolify then deploys the latest image from the registry using a webhook.</li>
                                    <li><strong>Load Balancing</strong>: Employs Traefik for load balancing between Docker containers, with configuration files stored on the server and mounted as Docker volumes to manage container ephemerality.</li>
                                    <li><strong>Health Checks</strong>: Docker Compose files include scheduled health checks to ensure container reliability.</li>
                                </ul>
                            </li>
                        </ul>
                        
                        This setup enhances deployment efficiency, improves application reliability, and supports scalable growth, making it a comprehensive solution for modern eCommerce needs.

                    </div><br>   
                    <ol id="diagram-mobile" class="mini-text" style="margin-left: -25px; width: 100%; max-width: 1000px;  display:none;">
                        <img src="/img/ecomapi-deployment-darkmode-new.drawio.png" style="width:100%; max-width: 900px;">
                        <li><strong>Coolify</strong>: Manages the deployment of Docker containers on the Hetzner server, ensuring that the latest versions of the applications are running.</li>
                        <li><strong>Hetzner Server</strong>: Hosts the entire infrastructure, including Docker Compose, Traefik load balancer, and MySQL database.</li>
                        <li><strong>Traefik Proxy Load Balancer</strong>: Distributes incoming traffic across multiple instances of the eCommerce API containers, ensuring high availability and reliability.</li>
                        <li><strong>Docker Compose</strong>: Orchestrates the deployment of multiple containers, including the eCommerce API and MySQL database. Utilizes Docker volumes for persistent storage and performs regular health checks to ensure container stability.</li>
                        <li><strong>GitHub Actions CICD Pipeline</strong>: Automates the build and deployment process. Upon pushing code to the repository, the pipeline builds the Docker images, pushes them to the GitHub Container Registry, and triggers Coolify to redeploy the updated containers.</li>
                        <li><strong>GitHub Container Registry</strong>: Stores the Docker images of the application, allowing for version control and easy deployment of the latest builds.</li>
                        <li><strong>Cloudflare</strong>: Provides a Content Delivery Network (CDN) for faster content delivery, DDoS protection, DNS resolution, and SSL certificates for secure communication.</li>
                        <li><strong>Cloudflare Pages</strong>: Hosts the frontend of the eCommerce application, ensuring that users can access the web pages quickly and securely.</li>
                    </ol>   
                </div>
            </div>
            <div class="grid-item"><br>
                <div class="subtitle" style = "text-align: left; padding-left: 50px;">
                   Dockerfile <br>
                    <img src="/img/docker.png" style="width: calc(100% - 100px); max-width: 1300px;">
                </div>
                

                <div class="subtitle" style = "text-align: left; padding-left: 50px;">
                    Docker Compose <br>
                    <img src="/img/docker compose.png" style="width: calc(100% - 100px); max-width: 1300px;">
                </div>
              

                <div class="subtitle" style = "text-align: left; padding-left: 50px;">
                    GitHub Actions Yaml <br>
                    <img src="/img/actions.png" style="width: calc(100% - 100px); max-width: 1300px;">
                </div>
             

                <div class="subtitle" style = "text-align: left; padding-left: 50px;">
                    Traefik Config <br>
                    <img src="/img/traefik.png" style="width: calc(100% - 100px); max-width: 1300px; ">
                </div>
                
            </div>
        </section>
    </div>

</body>
</html>